<!DOCTYPE html>
<html>
<head>
  <title>My Blog</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <h1>My Blog</h1>

  <form action="/" method="GET">
    <label for="filter">Filter by Category:</label>
    <select name="category" id="filter">
      <option value="">All</option>
      <option value="Tech">Tech</option>
      <option value="Lifestyle">Lifestyle</option>
      <option value="Education">Education</option>
    </select>
    <button type="submit">Filter</button>
  </form>

  <h2>Create a New Post</h2>
  <form action="/add" method="POST">
    <input type="text" name="author" placeholder="Your name" required><br>
    <input type="text" name="title" placeholder="Post title" required><br>
    <textarea name="content" placeholder="Post content" required></textarea><br>
    
    <label for="category">Category:</label>
    <select name="category" required>
      <option value="Tech">Tech</option>
      <option value="Lifestyle">Lifestyle</option>
      <option value="Education">Education</option>
    </select><br>

    <button type="submit">Post</button>
  </form>

  <h2>All Posts</h2>
  <% posts.forEach(post => { %>
    <div class="post">
      <h3><%= post.title %></h3>
      <p><strong>By:</strong> <%= post.author %> | <strong>On:</strong> <%= post.createdAt %></p>
      <p><strong>Category:</strong> <%= post.category %></p>
      <p><%= post.content %></p>
      <form action="/edit/<%= post.id %>" method="get" style="display:inline;">
        <button>Edit</button>
      </form>
      <form action="/delete/<%= post.id %>" method="post" style="display:inline;">
        <button>Delete</button>
      </form>
    </div>
  <% }) %>
</body>
</html>